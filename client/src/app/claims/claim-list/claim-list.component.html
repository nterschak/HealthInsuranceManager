
<div class="row">
    <div class="col-2 filter-pane">
        <h2 class="text-center">Filters</h2>
        <form #filtersForm="ngForm" (ngSubmit)="loadClaims()">
            <div>
                <label class="form-label" for="year">Year</label>
                <select
                    class="form-select"
                    [(ngModel)]="claimParams.year"
                    name="year"
                >
                    <option *ngFor="let year of years" [value]="year">{{year}}</option>
                </select>
            </div>

            <div class="mt-3">
                <label class="form-label" for="patientId">Patient</label>
                <select
                    class="form-select"
                    [(ngModel)]="claimParams.patientId"
                    name="patientId"
                >
                    <option value="0" selected>All</option>
                    <option *ngFor="let member of members" [value]="member.id">
                        {{member.firstName}} {{member.lastName}}
                    </option>
                </select>
            </div>            

            <div class="form-check form-switch mt-3">
                <input class="form-check-input" type="checkbox" role="switch"
                    [(ngModel)]="claimParams.unpaidOnly" name="unpaidOnly">
                <label class="form-check-label" for="unpaidOnly">Unpaid Only</label>
            </div>

            <button type="submit" class="btn btn-success mt-3">Apply Filters</button>
        </form>
    </div>
    <div class="col-4" style="border-right: solid 1px;">
        <h2 class="text-center">Claims</h2>
        <p class="text-center" *ngIf="claims.length == 0">No claims match the selected critera</p>
        <div class="claims-list">
            <app-claim-card
                *ngFor="let claim of claims"
                [claim]="claim"
                [isSelected]="selectedClaimId === claim.id"
                (selected)="updateSelectedClaim($event)"
            ></app-claim-card>
        </div>
    </div>
    <div class="col-6">
        <h2 class="text-center">Details</h2>
        <app-claim-detail [claim]="selectedClaim"></app-claim-detail>
    </div>
</div>
